



<div class="container">
    <form [formGroup]="userAddEditForm" (ngSubmit)="onSubmit()" class="max-w-5xl mx-auto p-6 bg-white shadow-lg rounded-xl mt-10">
      
      <div class="page-header">
        <h1 >{{ (this.isAddMode ? 'Add '  : 'Edit ') }} {{ this.userRoleStr}}</h1>
        <p class="sub-header">Please fill in the details below</p>
      </div>
  
      <!-- Personal Info Section -->
      <section class="mb-8 border-l-4 border-blue-500 pl-4">
        <h2 class="text-2xl font-semibold text-blue-700 mb-4">Personal</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>First name</mat-label>
            <input matInput formControlName="firstName" type="text" placeholder="John" required>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Last name</mat-label>
            <input matInput formControlName="lastName" type="text" placeholder="Smith" required>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Phone number</mat-label>
            <input matInput formControlName="phoneNumber" type="text" placeholder="1234567890" required>
          </mat-form-field>
        </div>
      </section>
  
      <!-- Credentials Section - readonly -->
      <section class="mb-8 border-l-4 border-green-500 pl-4">
        <h2 class="text-2xl font-semibold text-green-700 mb-4">Credentials</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" type="email" placeholder="name@example.com" required 
                [class.read-only-textbx]="!this.isAddMode"
                [readonly]="!this.isAddMode">
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Password</mat-label>
            <input matInput formControlName="password" type="password" placeholder="********" required class="read-only-textbx" [readonly]="true">
          </mat-form-field>
        </div>
      </section>
  
      <!-- Address Section -->
      <section class="mb-8 border-l-4 border-purple-500 pl-4">
        <h2 class="text-2xl font-semibold text-purple-700 mb-4">Address</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Address Line 1</mat-label>
            <input matInput formControlName="line1" type="text" placeholder="123" required>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Address Line 2</mat-label>
            <input matInput formControlName="line2" type="text" placeholder="ABC Avenue" required>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>City</mat-label>
            <input matInput formControlName="city" type="text" placeholder="Sydney" required>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>State</mat-label>
            <input matInput formControlName="state" type="text" placeholder="NSW" required>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Postcode</mat-label>
            <input matInput formControlName="postcode" type="text" placeholder="2000" required>
          </mat-form-field>
        </div>
      </section>
  
      <!-- Validation Errors -->
      @if (validationErrors)
      {
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
          <strong class="font-semibold">Please fix the following:</strong>
          <ul class="list-disc pl-5 mt-2">
            @for (error of validationErrors; track $index) {
              <li>{{ error }}</li>
            }
          </ul>
        </div>
      }


      @if (errorMessage)
      {
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
            <strong class="font-semibold">Please fix the following:</strong>
            <ul class="list-disc pl-5 mt-2">
            
                <li>{{ errorMessage }}</li>
              
            </ul>
          </div>
      }
  
      <!-- Buttons -->
      <div class="flex justify-end space-x-3 mt-6">
        <button mat-stroked-button type="button" (click)="clearForm()" class="text-gray-700 border-gray-500">
          Reset
        </button>
        <button mat-flat-button color="primary" type="submit" [disabled]="userAddEditForm.invalid">
          Save
        </button>
      </div>
  
    </form>
  </div>
  
